syntax = "proto3";

option java_package = "com.example.p2pnetwork";
option java_outer_classname = "P2PServiceProto";

// gRPC Service definition
service P2PService {
    // RPC para simular el ping entre nodos
    rpc ping (PingRequest) returns (PingResponse);

    // RPC para obtener la información de un nodo
    rpc getNodeInfo (NodeInfoRequest) returns (NodeInfoResponse);
}


//used directly in the ping method in p2pclient
// Message definitions
message PingRequest {
    string senderNode = 1;
    string receiverNode = 2;
}

message PingResponse {
    string status = 1;
}

// Message definition for node info
// used to request node information based on node ID
message NodeInfoRequest {
    string nodeId = 1; // ID del nodo para obtener información
}

// Message definition for node info response
// used to respond with node's successor and predecessor
message NodeInfoResponse {
    string nodeId = 1;        // The ID of the node
    string successorId = 2;   // The ID of the successor node
    string predecessorId = 3; // The ID of the predecessor node
}
